<!DOCTYPE html>
<html>
<head>
<style type="text/css">
body {background-color: black;}
pre {
	font-weight: normal;
	color: #bbb;
	white-space: -moz-pre-wrap;
	white-space: -o-pre-wrap;
	white-space: -pre-wrap;
	white-space: pre-wrap;
	word-wrap: break-word;
	overflow-wrap: break-word;
}
b {font-weight: normal}
b.BOLD {color: #fff}
b.ITA {font-style: italic}
b.UND {text-decoration: underline}
b.STR {text-decoration: line-through}
b.UNDSTR {text-decoration: underline line-through}
b.BLK {color: #000000}
b.RED {color: #aa0000}
b.GRN {color: #00aa00}
b.YEL {color: #aa5500}
b.BLU {color: #0000aa}
b.MAG {color: #aa00aa}
b.CYN {color: #00aaaa}
b.WHI {color: #aaaaaa}
b.HIK {color: #555555}
b.HIR {color: #ff5555}
b.HIG {color: #55ff55}
b.HIY {color: #ffff55}
b.HIB {color: #5555ff}
b.HIM {color: #ff55ff}
b.HIC {color: #55ffff}
b.HIW {color: #ffffff}
b.BBLK {background-color: #000000}
b.BRED {background-color: #aa0000}
b.BGRN {background-color: #00aa00}
b.BYEL {background-color: #aa5500}
b.BBLU {background-color: #0000aa}
b.BMAG {background-color: #aa00aa}
b.BCYN {background-color: #00aaaa}
b.BWHI {background-color: #aaaaaa}
</style>
</head>
<body>
<pre>
<b class=WHI>$ jackal init</b><br/>
<b class=YEL>Using config file /Users/josimoore/Desktop/projects/jackal/jackal-config.toml</b>
<b class=YEL></b>
<b class=YEL>Saving log file to</b>
<b class=YEL>/var/folders/gb/qfjdrlp52_v87bj_2rfzqls00000gn/T/jackal-2023-03-28-08-39-23-314846914.log</b>
<b class=YEL></b>
  •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Loading Jackal Package /Users/josimoore/.jackal-cache/jackal-init-arm64-v0.25.0.tar.zst</b>
  •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Loading Jackal Package /Users/josimoore/.jackal-cache/jackal-init-arm64-v0.25.0.tar.zst</b>

<b style="color:#55ffff;">kind</b>:<b style="color:#ff55ff;"> JackalInitConfig</b>
<b style="color:#ff55ff;"></b><b style="color:#55ffff;">metadata</b>:<b style="color:#55ffff;"></b>
<b style="color:#55ffff;">  name</b>:<b style="color:#ff55ff;"> init</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> Used to establish a new Jackal cluster</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">architecture</b>:<b style="color:#ff55ff;"> arm64</b>
<b style="color:#ff55ff;"></b><b style="color:#55ffff;">build</b>:<b style="color:#55ffff;"></b>
<b style="color:#55ffff;">  terminal</b>:<b style="color:#ff55ff;"> fv-az442-536</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">user</b>:<b style="color:#ff55ff;"> runner</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">architecture</b>:<b style="color:#ff55ff;"> arm64</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">timestamp</b>:<b style="color:#ff55ff;"> Tue, 21 Mar 2023 23:50:40 +0000</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">version</b>:<b style="color:#ff55ff;"> v0.25.0</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">migrations</b>:
  -<b style="color:#ff55ff;"> scripts-to-actions</b>
<b style="color:#ff55ff;"></b><b style="color:#55ffff;">components</b>:
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> jackal-injector</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>: |
<b style="color:#ff55ff;">    Bootstraps a Kubernetes cluster by cloning a running pod in the cluster and hosting the registry image.</b>
<b style="color:#ff55ff;">    Removed and destroyed after the Jackal Registry is self-hosting the registry image.</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">required</b>:<b style="color:#ffffff;"> true</b>
<b style="color:#ffffff;">  </b><b style="color:#55ffff;">cosignKeyPath</b>:<b style="color:#ff55ff;"> cosign.pub</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">files</b>:
  -<b style="color:#55ffff;"> source</b>:<b style="color:#ff55ff;"> sget://defenseunicorns/jackal-injector:arm64-2023-02-09</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">target</b>:<b style="color:#ff55ff;"> "###JACKAL_TEMP###/jackal-injector"</b><b style="color:#55ffff;"></b>
<b style="color:#55ffff;">    executable</b>:<b style="color:#ffffff;"> true</b>
<b style="color:#ffffff;"></b>-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> jackal-seed-registry</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>: |
<b style="color:#ff55ff;">    Deploys the Jackal Registry using the registry image provided by the Jackal Injector.</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">required</b>:<b style="color:#ffffff;"> true</b>
<b style="color:#ffffff;">  </b><b style="color:#55ffff;">charts</b>:
  -<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> docker-registry</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">releaseName</b>:<b style="color:#ff55ff;"> jackal-docker-registry</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">version</b>:<b style="color:#ff55ff;"> 1.0.0</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">namespace</b>:<b style="color:#ff55ff;"> jackal</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">valuesFiles</b>:
    -<b style="color:#ff55ff;"> packages/jackal-registry/registry-values.yaml</b>
<b style="color:#ff55ff;">    </b>-<b style="color:#ff55ff;"> packages/jackal-registry/registry-values-seed.yaml</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">localPath</b>:<b style="color:#ff55ff;"> packages/jackal-registry/chart</b>
<b style="color:#ff55ff;"></b>-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> jackal-registry</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>: |
<b style="color:#ff55ff;">    Updates the Jackal Registry to use the self-hosted registry image. </b>
<b style="color:#ff55ff;">    Serves as the primary docker registry for the cluster.</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">required</b>:<b style="color:#ffffff;"> true</b>
<b style="color:#ffffff;">  </b><b style="color:#55ffff;">charts</b>:
  -<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> docker-registry</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">releaseName</b>:<b style="color:#ff55ff;"> jackal-docker-registry</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">version</b>:<b style="color:#ff55ff;"> 1.0.0</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">namespace</b>:<b style="color:#ff55ff;"> jackal</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">valuesFiles</b>:
    -<b style="color:#ff55ff;"> packages/jackal-registry/registry-values.yaml</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">localPath</b>:<b style="color:#ff55ff;"> packages/jackal-registry/chart</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">manifests</b>:
  -<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> registry-connect</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">namespace</b>:<b style="color:#ff55ff;"> jackal</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">files</b>:
    -<b style="color:#ff55ff;"> packages/jackal-registry/connect.yaml</b>
<b style="color:#ff55ff;">  </b>-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> kep-1755-registry-annotation</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">namespace</b>:<b style="color:#ff55ff;"> jackal</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">files</b>:
    -<b style="color:#ff55ff;"> packages/jackal-registry/configmap.yaml</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">images</b>:
  -<b style="color:#ff55ff;"> registry:2.8.1</b>
<b style="color:#ff55ff;"></b>-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> jackal-agent</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>: |
<b style="color:#ff55ff;">    A Kubernetes mutating webhook to enable automated URL rewriting for container</b>
<b style="color:#ff55ff;">    images and git repository references in Kubernetes manifests. This prevents</b>
<b style="color:#ff55ff;">    the need to manually update URLs from their original sources to the Jackal-managed</b>
<b style="color:#ff55ff;">    docker registry and git server.</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">required</b>:<b style="color:#ffffff;"> true</b>
<b style="color:#ffffff;">  </b><b style="color:#55ffff;">actions</b>:<b style="color:#55ffff;"></b>
<b style="color:#55ffff;">    onCreate</b>:<b style="color:#55ffff;"></b>
<b style="color:#55ffff;">      before</b>:
      -<b style="color:#55ffff;"> cmd</b>:<b style="color:#ff55ff;"> make init-package-local-agent AGENT_IMAGE_TAG="v0.25.0"</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">manifests</b>:
  -<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> jackal-agent</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">namespace</b>:<b style="color:#ff55ff;"> jackal</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">files</b>:
    -<b style="color:#ff55ff;"> packages/jackal-agent/manifests/service.yaml</b>
<b style="color:#ff55ff;">    </b>-<b style="color:#ff55ff;"> packages/jackal-agent/manifests/secret.yaml</b>
<b style="color:#ff55ff;">    </b>-<b style="color:#ff55ff;"> packages/jackal-agent/manifests/deployment.yaml</b>
<b style="color:#ff55ff;">    </b>-<b style="color:#ff55ff;"> packages/jackal-agent/manifests/webhook.yaml</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">images</b>:
  -<b style="color:#ff55ff;"> ghcr.io/defenseunicorns/jackal/agent:v0.25.0</b>
<b style="color:#ff55ff;"></b>-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> logging</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>: |
<b style="color:#ff55ff;">    Deploys the Promtail Grafana &amp; Loki (PGL) stack.</b>
<b style="color:#ff55ff;">    Aggregates logs from different containers and presents them in a web dashboard.</b>
<b style="color:#ff55ff;">    Recommended if no other logging stack is deployed in the cluster.</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">charts</b>:
  -<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> loki-stack</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">releaseName</b>:<b style="color:#ff55ff;"> jackal-loki-stack</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">url</b>:<b style="color:#ff55ff;"> https://grafana.github.io/helm-charts</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">version</b>:<b style="color:#ff55ff;"> 2.9.9</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">namespace</b>:<b style="color:#ff55ff;"> jackal</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">valuesFiles</b>:
    -<b style="color:#ff55ff;"> packages/logging-pgl/pgl-values.yaml</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">manifests</b>:
  -<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> logging-connect</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">namespace</b>:<b style="color:#ff55ff;"> jackal</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">files</b>:
    -<b style="color:#ff55ff;"> packages/logging-pgl/connect.yaml</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">images</b>:
  -<b style="color:#ff55ff;"> docker.io/grafana/promtail:2.7.2</b>
<b style="color:#ff55ff;">  </b>-<b style="color:#ff55ff;"> grafana/grafana:8.3.5</b>
<b style="color:#ff55ff;">  </b>-<b style="color:#ff55ff;"> grafana/loki:2.6.1</b>
<b style="color:#ff55ff;">  </b>-<b style="color:#ff55ff;"> quay.io/kiwigrid/k8s-sidecar:1.19.2</b>
<b style="color:#ff55ff;"></b>-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> git-server</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>: |
<b style="color:#ff55ff;">    Deploys Gitea to provide git repositories for Kubernetes configurations.</b>
<b style="color:#ff55ff;">    Required for GitOps deployments if no other git server is available.</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">actions</b>:<b style="color:#55ffff;"></b>
<b style="color:#55ffff;">    onDeploy</b>:<b style="color:#55ffff;"></b>
<b style="color:#55ffff;">      after</b>:
      -<b style="color:#55ffff;"> maxTotalSeconds</b>:<b style="color:#ffffff;"> 60</b>
<b style="color:#ffffff;">        </b><b style="color:#55ffff;">maxRetries</b>:<b style="color:#ffffff;"> 3</b>
<b style="color:#ffffff;">        </b><b style="color:#55ffff;">cmd</b>:<b style="color:#ff55ff;"> ./jackal internal create-read-only-gitea-user</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">charts</b>:
  -<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> gitea</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">releaseName</b>:<b style="color:#ff55ff;"> jackal-gitea</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">url</b>:<b style="color:#ff55ff;"> https://dl.gitea.io/charts</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">version</b>:<b style="color:#ff55ff;"> 7.0.4</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">namespace</b>:<b style="color:#ff55ff;"> jackal</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">valuesFiles</b>:
    -<b style="color:#ff55ff;"> packages/gitea/gitea-values.yaml</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">manifests</b>:
  -<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> git-connect</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">namespace</b>:<b style="color:#ff55ff;"> jackal</b>
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">files</b>:
    -<b style="color:#ff55ff;"> packages/gitea/connect.yaml</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">images</b>:
  -<b style="color:#ff55ff;"> gitea/gitea:1.19.3-rootless</b>
<b style="color:#ff55ff;"></b><b style="color:#55ffff;">variables</b>:
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> K3S_ARGS</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> Arguments to pass to K3s</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">default</b>:<b style="color:#ff55ff;"> --disable traefik</b>
<b style="color:#ff55ff;"></b>-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> REGISTRY_EXISTING_PVC</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> "Optional: Use an existing PVC for the registry instead of creating a new one. If this is set, the REGISTRY_PVC_SIZE variable will be ignored."</b>
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> REGISTRY_PVC_SIZE</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> The size of the persistent volume claim for the registry</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">default</b>:<b style="color:#ff55ff;"> 20Gi</b>
<b style="color:#ff55ff;"></b>-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> REGISTRY_CPU_REQ</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> The CPU request for the registry</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">default</b>:<b style="color:#ff55ff;"> 100m</b>
<b style="color:#ff55ff;"></b>-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> REGISTRY_MEM_REQ</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> The memory request for the registry</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">default</b>:<b style="color:#ff55ff;"> 256Mi</b>
<b style="color:#ff55ff;"></b>-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> REGISTRY_CPU_LIMIT</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> The CPU limit for the registry</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">default</b>:<b style="color:#ff55ff;"> "3"</b>
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> REGISTRY_MEM_LIMIT</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> The memory limit for the registry</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">default</b>:<b style="color:#ff55ff;"> 2Gi</b>
<b style="color:#ff55ff;"></b>-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> REGISTRY_HPA_MIN</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> The minimum number of registry replicas</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">default</b>:<b style="color:#ff55ff;"> "1"</b>
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> REGISTRY_HPA_MAX</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> The maximum number of registry replicas</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">default</b>:<b style="color:#ff55ff;"> "5"</b>
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> REGISTRY_HPA_ENABLE</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> Enable the Horizontal Pod Autoscaler for the registry</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">default</b>:<b style="color:#ff55ff;"> "true"</b>
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> GIT_SERVER_EXISTING_PVC</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> "Optional: Use an existing PVC for the git server instead of creating a new one. If this is set, the GIT_SERVER_PVC_SIZE variable will be ignored."</b>
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> GIT_SERVER_PVC_SIZE</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> The size of the persistent volume claim for git server</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">default</b>:<b style="color:#ff55ff;"> 10Gi</b>
<b style="color:#ff55ff;"></b>-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> GIT_SERVER_CPU_REQ</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> The CPU request for git server</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">default</b>:<b style="color:#ff55ff;"> 200m</b>
<b style="color:#ff55ff;"></b>-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> GIT_SERVER_MEM_REQ</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> The memory request for git server</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">default</b>:<b style="color:#ff55ff;"> 512Mi</b>
<b style="color:#ff55ff;"></b>-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> GIT_SERVER_CPU_LIMIT</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> The CPU limit for git server</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">default</b>:<b style="color:#ff55ff;"> "3"</b>
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> GIT_SERVER_MEM_LIMIT</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">description</b>:<b style="color:#ff55ff;"> The memory limit for git server</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">default</b>:<b style="color:#ff55ff;"> 2Gi</b>
<b style="color:#ff55ff;"></b><b style="color:#55ffff;">constants</b>:
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> AGENT_IMAGE</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">value</b>:<b style="color:#ff55ff;"> defenseunicorns/jackal/agent</b>
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> AGENT_IMAGE_TAG</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">value</b>:<b style="color:#ff55ff;"> v0.25.0</b>
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> REGISTRY_IMAGE</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">value</b>:<b style="color:#ff55ff;"> registry</b>
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> REGISTRY_IMAGE_TAG</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">value</b>:<b style="color:#ff55ff;"> 2.8.1</b>
<b class=YEL>This package has 9 artifacts with software bill-of-materials (SBOM) included. You can view them now</b>
<b class=YEL>in the jackal-sbom folder in this directory or to go directly to one, open this in your browser:</b>
<b class=YEL>/Users/josimoore/Desktop/projects/jackal/jackal-sbom/sbom-viewer-docker.io_grafana_promtail_2.7.2.html</b>
<b class=YEL></b>
<b class=YEL>* This directory will be removed after package deployment.</b>
<b class=YEL></b>
<b class="GRN">? </b><b class="WHI">Deploy this Jackal package?</b> (y/N) <span style="color:#55ffff;">Yes</span>
<b class=YEL></b>
<b style="color:#555555;"></b>───────────────────────────────────────────────────────────────────────────────────────
<b style="color:#55ffff;">name</b>:<b style="color:#ff55ff;"> k3s</b>
<b style="color:#ff55ff;"></b><b style="color:#55ffff;">only</b>:
<b style="color:#55ffff;">  localOS</b>:<b style="color:#ff55ff;"> linux</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">cluster</b>:
<b style="color:#ff55ff;">    </b><b style="color:#55ffff;">architecture</b>:<b style="color:#ff55ff;"> amd64</b>
<b style="color:#ff55ff;"></b><b style="color:#55ffff;">actions</b>:
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">onDeploy</b>:
<b style="color:#ff55ff;">     </b><b style="color:#55ffff;">defaults</b>:
<b style="color:#ff55ff;">       </b><b style="color:#55ffff;">maxRetries</b>:<b style="color:#ff55ff;"> 5</b>
<b style="color:#ff55ff;">     </b><b style="color:#55ffff;">before</b>:
<b style="color:#ff55ff;">     </b>- <b style="color:#55ffff;">maxRetries</b>:<b style="color:#ff55ff;"> 0</b>
<b style="color:#ff55ff;">       </b><b style="color:#55ffff;">cmd</b>:<b style="color:#ff55ff;"> ./jackal internal is-valid-hostname</b>
<b style="color:#ff55ff;">     </b>- <b style="color:#55ffff;">cmd</b>:<b style="color:#ff55ff;"> "[ -e /etc/redhat-release ] && systemctl disable firewalld --now || echo ''"</b>
<b style="color:#ff55ff;">     </b><b style="color:#55ffff;">after</b>:
<b style="color:#ff55ff;">     </b>- <b style="color:#55ffff;">cmd</b>:<b style="color:#ff55ff;"> systemctl daemon-reload</b>
<b style="color:#ff55ff;">     </b>- <b style="color:#55ffff;">cmd</b>:<b style="color:#ff55ff;"> systemctl enable k3s</b>
<b style="color:#ff55ff;">     </b>- <b style="color:#55ffff;">cmd</b>:<b style="color:#ff55ff;"> systemctl start k3s</b>
<b style="color:#ff55ff;"></b><b style="color:#55ffff;">files</b>:
<b style="color:#ff55ff;"></b>- <b style="color:#55ffff;">source</b>:<b style="color:#ff55ff;"> packages/distros/k3s/common/jackal-clean-k3s.sh</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">target</b>:<b style="color:#ff55ff;"> /opt/jackal/jackal-clean-k3s.sh</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">executable</b>: true
<b style="color:#ff55ff;"></b>- <b style="color:#55ffff;">source</b>:<b style="color:#ff55ff;"> packages/distros/k3s/common/k3s.service</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">target</b>:<b style="color:#ff55ff;"> /etc/systemd/system/k3s.service</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">symlinks</b>:
<b style="color:#ff55ff;">  </b>-<b style="color:#ff55ff;"> /etc/systemd/system/multi-user.target.wants/k3s.service</b>
<b style="color:#ff55ff;"></b>- <b style="color:#55ffff;">source</b>:<b style="color:#ff55ff;"> https://github.com/k3s-io/k3s/releases/download/v1.24.1+k3s1/k3s</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">shasum</b>:<b style="color:#ff55ff;"> ca398d82fee8f9f52b05fb184582054be3c0285a1b9e8fb5c7b9a91448a</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">target</b>:<b style="color:#ff55ff;"> /usr/sbin/k3s</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">executable</b>:<b style="color:#ff55ff;"> true</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">symlinks</b>:
<b style="color:#ff55ff;">  </b>-<b style="color:#ff55ff;"> /usr/sbin/kubctl</b>
<b style="color:#ff55ff;">  </b>-<b style="color:#ff55ff;"> /usr/sbin/ctr</b>
<b style="color:#ff55ff;">  </b>-<b style="color:#ff55ff;"> /usr/sbin/crictl</b>
<b style="color:#ff55ff;"></b>- <b style="color:#55ffff;">source</b>:<b style="color:#ff55ff;"> https://github.com/k3s-io/k3s/releases/download/v1.24.1+k3s1/k3s-airgap-images-amd64.tar.zst</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">shasum</b>:<b style="color:#ff55ff;"> 6736bf9fa4d5754d60b0508bafb2f888a70cb99a203a3a1617a919ca4ee74034</b>
<b style="color:#ff55ff;">  </b><b style="color:#55ffff;">target</b>:<b style="color:#ff55ff;"> /var/lib/rancher/k3s/agent/images/k3s.tar.zst</b>

<b class=MAG>*** REQUIRES ROOT *** Install K3s, certified Kubernetes distribution built for IoT &amp; Edge computing</b>
<b class=MAG>K3s provides the cluster need for Jackal running in Appliance Mode as well as can host a low-resource</b>
<b class=MAG>Gitops Service if not using an existing Kubernetes platform.</b>

<b class="GRN">? </b><b class="WHI">Deploy the k3s component?</b> (y/N) <span style="color:#55ffff;">No</span>
<b class=YEL></b>
<b style="color:#555555;"></b>───────────────────────────────────────────────────────────────────────────────────────

<b style="color:#55ffff;">name</b>:<b style="color:#ff55ff;"> logging</b>
<b style="color:#55ffff;">charts</b>:
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> loki-stack</b>
<b style="color:#55ffff;">  releaseName</b>:<b style="color:#ff55ff;"> jackal-loki-stack</b>
<b style="color:#55ffff;">  url</b>:<b style="color:#ff55ff;"> https://grafana.github.io/helm-charts</b>
<b style="color:#55ffff;">  version</b>:<b style="color:#ff55ff;"> 2.9.9</b>
<b style="color:#55ffff;">  namespace</b>:<b style="color:#ff55ff;"> jackal</b>
<b style="color:#55ffff;">  valuesFiles</b>:
<b style="color:#55ffff;">  -</b><b style="color:#ff55ff;">  packages/logging-pgl/pgl-values.yaml</b>
<b style="color:#55ffff;">manifests</b>:
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> logging-connect</b>
<b style="color:#55ffff;">  namespace</b>:<b style="color:#ff55ff;"> jackal</b>
<b style="color:#55ffff;">  files</b>:
<b style="color:#55ffff;">  -</b><b style="color:#ff55ff;">  packages/logging-pgl/connect.yaml</b>
<b style="color:#55ffff;">images</b>:
-<b style="color:#ff55ff;"> docker.io/grafana/promtail:2.7.2</b>
-<b style="color:#ff55ff;"> grafana/grafana:8.3.5</b>
-<b style="color:#ff55ff;"> grafana/loki:2.6.1</b>
-<b style="color:#ff55ff;"> quay.io/kiwigrid/k8s-sidecar:1.19.2</b>

<b class=MAG>Deploys the Promtail Grafana & Loki (PGL) stack. Aggregates logs from different containers and</b>
<b class=MAG>presents them in a web dashboard. Recommended if no other logging stack is deployed in the cluster.</b>

<b class="GRN">? </b><b class="WHI">Deploy the logging component?</b> (y/N) <span style="color:#55ffff;">No</span>
<b class=YEL></b>
<b style="color:#555555;"></b>───────────────────────────────────────────────────────────────────────────────────────

<b style="color:#55ffff;">name</b>:<b style="color:#ff55ff;"> git-server</b>
<b style="color:#55ffff;">actions</b>:
<b style="color:#55ffff;">  onDeploy</b>:
<b style="color:#55ffff;">    after</b>:
<b>    -</b><b style="color:#55ffff;"> maxTotalSeconds</b>: 60
<b style="color:#55ffff;">      maxRetries</b>: 3
<b style="color:#55ffff;">      cmd</b>:<b style="color:#ff55ff;"> ./jackal internal create-read-only-gitea-user</b>
<b style="color:#55ffff;">charts</b>:
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> gitea</b>
<b style="color:#55ffff;">  releaseName</b>:<b style="color:#ff55ff;"> jackal-gitea</b>
<b style="color:#55ffff;">  url</b>:<b style="color:#ff55ff;"> https://d1.gitea.io/charts</b>
<b style="color:#55ffff;">  version</b>:<b style="color:#ff55ff;"> 7.0.4</b>
<b style="color:#55ffff;">  namespace</b>:<b style="color:#ff55ff;"> jackal</b>
<b style="color:#55ffff;">  valuesFiles</b>:
<b style="color:#55ffff;">  -</b><b style="color:#ff55ff;">  packages/gitea/gitea-values.yaml</b>
<b style="color:#55ffff;">manifests</b>:
-<b style="color:#55ffff;"> name</b>:<b style="color:#ff55ff;"> git-connect</b>
<b style="color:#55ffff;">  namespace</b>:<b style="color:#ff55ff;"> jackal</b>
<b style="color:#55ffff;">  files</b>:
<b style="color:#55ffff;">  -</b><b style="color:#ff55ff;">  packages/gitea/connect.yaml</b>
<b style="color:#55ffff;">images</b>:
-<b style="color:#ff55ff;"> gitea/gitea:1.19.3-rootless</b>

<b class=MAG>Deploys Gitea to provide git repositories for Kubernetes configurations. Required for GitOps</b>
<b class=MAG>deployments if no other git server is available.</b>
<b class="GRN">? </b><b class="WHI">Deploy the git-server component?</b> (y/N) <span style="color:#55ffff;">No</span>

<div style="background-color:#555555">
    <b style="background-color:#555555"></b><b style="background-color:#555555">                                                                                </b>
    <b style="background-color:#555555"></b><b style="background-color:#555555"></b><b style="color:#ffffff;background-color:#555555"></b><b style="color:#ffffff;background-color:#555555">  📦 JACKAL-INJECTOR COMPONENT                                                    </b><b style="background-color:#555555"></b><b style="background-color:#555555"></b>
    <b style="background-color:#555555"></b><b style="background-color:#555555"></b><b style="color:#ffffff;background-color:#555555"></b><b style="color:#ffffff;background-color:#555555">                                                                                </b><b style="background-color:#555555"></b><b style="background-color:#555555"></b>
    <b style="background-color:#555555"></b><b style="background-color:#555555">                                                                                </b>
    </div>

      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Copying 1 files</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Copying 1 files</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Gathering cluster information</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Gathering cluster information</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Attempting to bootstrap the seed image into the cluster</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Attempting to bootstrap the seed image into the cluster</b>

    <div style="background-color:#555555">
    <b style="background-color:#555555"></b><b style="background-color:#555555">                                                                                </b>
    <b style="background-color:#555555"></b><b style="background-color:#555555"></b><b style="color:#ffffff;background-color:#555555"></b><b style="color:#ffffff;background-color:#555555">  📦 JACKAL-SEED-REGISTRY COMPONENT                                               </b><b style="background-color:#555555"></b><b style="background-color:#555555"></b>
    <b style="background-color:#555555"></b><b style="background-color:#555555"></b><b style="color:#ffffff;background-color:#555555"></b><b style="color:#ffffff;background-color:#555555">                                                                                </b><b style="background-color:#555555"></b><b style="background-color:#555555"></b>
    <b style="background-color:#555555"></b><b style="background-color:#555555">                                                                                </b>
    </div>

      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Loading the Jackal State from the Kubernetes cluster</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Loading the Jackal State from the Kubernetes cluster</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Processing helm chart docker-registry:1.0.0 from Jackal-generated helm chart</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Processing helm chart docker-registry:1.0.0 from Jackal-generated helm chart</b>

    <div style="background-color:#555555">
    <b style="background-color:#555555"></b><b style="background-color:#555555">                                                                                </b>
    <b style="background-color:#555555"></b><b style="background-color:#555555"></b><b style="color:#ffffff;background-color:#555555"></b><b style="color:#ffffff;background-color:#555555">  📦 JACKAL-REGISTRY COMPONENT                                                    </b><b style="background-color:#555555"></b><b style="background-color:#555555"></b>
    <b style="background-color:#555555"></b><b style="background-color:#555555"></b><b style="color:#ffffff;background-color:#555555"></b><b style="color:#ffffff;background-color:#555555">                                                                                </b><b style="background-color:#555555"></b><b style="background-color:#555555"></b>
    <b style="background-color:#555555"></b><b style="background-color:#555555">                                                                                </b>
    </div>

      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Opening tunnel 62270 -&gt; 5000 for svc/jackal-docker-registry in namespace jackal</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Creating port forwarding tunnel at http://127.0.0.1:62270/v2/_catalog</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Storing images in the jackal registry</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Storing images in the jackal registry</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Processing helm chart docker-registry:1.0.0 from Jackal-generated helm chart</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Processing helm chart docker-registry:1.0.0 from Jackal-generated helm chart</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Starting helm chart generation registry-connect</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Starting helm chart generation registry-connect</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Processing helm chart raw-init-jackal-registry-registry-connect:0.1.1680014363 from Jackal-generated</b>
           <b style="color:#55ffff;"></b><b style="color:#55ffff;">helm chart</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Processing helm chart raw-init-jackal-registry-registry-connect:0.1.1680014363 from Jackal-generated</b>
           <b style="color:#55ffff;"></b><b style="color:#55ffff;">helm chart</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Starting helm chart generation kep-1755-registry-annotation</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Starting helm chart generation kep-1755-registry-annotation</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Processing helm chart raw-init-jackal-registry-kep-1755-registry-annotation:0.1.1680014363 from</b>
           <b style="color:#55ffff;"></b><b style="color:#55ffff;">Jackal-generated helm chart</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Processing helm chart raw-init-jackal-registry-kep-1755-registry-annotation:0.1.1680014363 from</b>
           <b style="color:#55ffff;"></b><b style="color:#55ffff;">Jackal-generated helm chart</b>

    <div style="background-color:#555555">
    <b style="background-color:#555555"></b><b style="background-color:#555555">                                                                                </b>
    <b style="background-color:#555555"></b><b style="background-color:#555555"></b><b style="color:#ffffff;background-color:#555555"></b><b style="color:#ffffff;background-color:#555555">  📦 JACKAL-AGENT COMPONENT                                                       </b><b style="background-color:#555555"></b><b style="background-color:#555555"></b>
    <b style="background-color:#555555"></b><b style="background-color:#555555"></b><b style="color:#ffffff;background-color:#555555"></b><b style="color:#ffffff;background-color:#555555">                                                                                </b><b style="background-color:#555555"></b><b style="background-color:#555555"></b>
    <b style="background-color:#555555"></b><b style="background-color:#555555">                                                                                </b>
    </div>

      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Opening tunnel 62284 -&gt; 5000 for svc/jackal-docker-registry in namespace jackal</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Creating port forwarding tunnel at http://127.0.0.1:62284/v2/_catalog</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Storing images in the jackal registry</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Storing images in the jackal registry</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Starting helm chart generation jackal-agent</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Starting helm chart generation jackal-agent</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Processing helm chart raw-init-jackal-agent-jackal-agent:0.1.1680014363 from Jackal-generated helm chart</b>
      •  <b style="color:#55ffff;"></b><b style="color:#55ffff;">Processing helm chart raw-init-jackal-agent-jackal-agent:0.1.1680014363 from Jackal-generated helm chart</b>
    <b style="color:#55ff55;"></b><b style="color:#55ff55;">  ✔ </b> <b style="color:#55ff55;"></b><b style="color:#55ff55;">Jackal deployment complete</b>


    <b style="color:#55ffff;"></b><b style="color:#55ffff;">Application</b><b style="color:#555555;"></b><b style="color:#555555;"> | </b><b style="color:#55ffff;"></b><b style="color:#55ffff;">Username </b><b style="color:#555555;"></b><b style="color:#555555;"> | </b><b style="color:#55ffff;"></b><b style="color:#55ffff;">Password                </b><b style="color:#555555;"></b><b style="color:#555555;"> | </b><b style="color:#55ffff;"></b><b style="color:#55ffff;">Connect</b>
    <b style="color:#55ffff;"></b>Registry   <b style="color:#555555;"></b><b style="color:#555555;"> | </b>jackal-push<b style="color:#555555;"></b><b style="color:#555555;"> | </b>DdarrzTahz6oclGTUAUOfbsY<b style="color:#555555;"></b><b style="color:#555555;"> | </b>jackal connect registry

<b style="color:#555555;"></b>
</pre>
</body>
</html>
